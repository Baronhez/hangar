:imagesdir: ./images/block3

= How to create your repository

in this documentation we will see how repositories works on azure, we will see how to create one when it is a brand new project,  but also how to do it when your project already has a repository +

All the actions will be done manually with the web interface, if you want to use command line or a script that automatize these steps, check this documentation: *'block3_create_repo_auto'*

== 1. Your project is new and your repository is empty

When you create a new project, an empty repository already exists. +
To acces it, click on `Repos` on the left pannel of the home page and will get this page:

image::2_empty_repo.png[]

Now you are on this page, 4 possibilities are available.

  A: You can clone the empty repository on you computer to start the modification.
  B: You can push an existing local repository to your project
  C: You can import an existing online repository with the url
  D: You can initialize your repository with a 'main' branch

=== A. Clone it to your computer

You can clone the repository on your computer to create content inside it, in this example we will use git bash (of course git bash is not the only client you can use).

First you need to copy the url of the repository

image::2.1.0.PNG[]

Then open a git bash prompt in the folder you want, and use the git clone command.

image::2_1_clone_empty.PNG[]

We can notice there is a warning about the repository being empty. If you enter in it, it will automatically be on a branch called *master*, this branch actually only exists on your local computer. +
We can now commit and push our changes: (here we just created a text file *test*)

image::2_1_2_add_file_master.PNG[]

Once it is pushed, we can now see that the branch and its content are available on azure.

image::2_1_3_azure_repo_after_push.PNG[]

=== B. Push an existing repository from command line

image::2_2_0.PNG[]

if you have a local git directory (it needs to be a directory that does not exist remotely). +
You can push it as your azure repository.

==== i. initialize your folder as git repository

First let's see how to create a local git repository. +
If you have a folder with all your code already but that folder is not a git repository, example:

image::2_2_1_directory.PNG[]

open git command line at the root of this folder (in this example it will be git bash)

`cd <root_of_your_folder>`  example:

image::2_2_2_cd.PNG[]

Use the `git init .` command to convert your simple folder into a git repository.

image::2_2_3_init.PNG[]

Now you have a local git repository. You can now add every files and folders in your first commit:


`git add -A` it will select all the files inside your git repository +
`git commit -m "first commit"` it will commit your files (-m is for adding a message to your commit)

image::2_2_4_add_commit.PNG[]

Your folder has now been converted into a git repository and you have your first branch

==== ii. Push it to your azure project

You can use the command shown on the azure interface:

`git remote add origin <your_project_url>` this will create the repository remotely +
`git push -u origin --all` this will push your branches to that remote repository

image::2_2_5_origin_push.PNG[]

You can now see on your azure project that the repository is available

image::2_2_6_repon_end.PNG[]


=== C. Import a existing git repository

image::2_3_0.PNG[]

You can import the content of an existing git repository.

WARNING: As it just imports the content, modification made on your azure repository will not affect the initial git repository you imported

First you need to get the url of your repository (here is an example with a repository from github)

image::2_3_1_github_repo.PNG[]

Then you can import it in your azure project

image::2_3_2_import_to_azure.png[]

You can now see the that all your branches and files have been imported

image::2_3_3_repository_after.PNG[]

=== D. Initialize your repository

image::2_4_0.PNG[]

You just need to click on *Initialize*.

You decide to add an `README` file or entries to the `gitignore` file

The `README` file allows you to display information about the repository when you open it (see next picture). +
The `gitignore` file list all type of file that needs to be ignore when commiting, for example if there are artefacts generated by builds you do not want to commit

NOTE: You can modify/delete the two files after initializing your repository

Once your repository is inistialized, it will look like this:

image::2_4_1.png[]



== 2. A repository already exists but you want to create a new one
